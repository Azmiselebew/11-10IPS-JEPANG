;/*FB_PKG_DELIM*/

__d("VideoPlayerWithThumbnail.react",["CometImage.react","CometVisualCompletionAttributes","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useEffect,l=b.useState,m={root:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",boxSizing:"x9f619",display:"x78zum5",end:"xds687c",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},thumbnail:{height:"x5yr21d",width:"x14atkfc",$$css:!0}};function a(a){var b=a.onLoad,e=a.src;a=a.thumbnailStyle;var f=(i||(i=d("VideoPlayerHooks"))).useVideoPlaybackEnded(),g=i.usePaused(),h=l(!1),n=h[0],o=h[1];k(function(){g||o(!0)},[g]);return!f&&n?null:j.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x1ey2m1c x9f619 x78zum5 xds687c xl56j7k x10l6tqk x17qophe x13vifvy"},c("CometVisualCompletionAttributes").IGNORE,{children:j.jsx(c("CometImage.react"),{onLoad:b,src:e,xstyle:[m.thumbnail,a]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisSponsoredStoryLoggingConstants",[],(function(a,b,c,d,e,f){"use strict";a=2e3;b=6e4;f.ADBLOCK_CHECK_DELAY=a;f.SUB_IMPRESSION_GAP=b}),66);
__d("InstagramAdReelImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3435");b=d("FalcoLoggerInternal").create("instagram_ad_reel_impression",a);e=b;g["default"]=e}),98);
__d("InstagramAdReelSubImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3436");b=d("FalcoLoggerInternal").create("instagram_ad_reel_sub_impression",a);e=b;g["default"]=e}),98);
__d("usePolarisSponsoredStoryReelImpressionLogger",["InstagramAdReelImpressionFalcoEvent","InstagramAdReelSubImpressionFalcoEvent","InstagramODS","PolarisContainerModuleUtils","PolarisMonitorErrors","PolarisReactRedux.react","PolarisSponsoredStoryLoggingConstants","PolarisStoriesLoggingUtils","PolarisViewpointActionUtils","cometGHLContentDisplayCheck","cr:6627","err","polarisRelationshipSelectors.react","polarisStorySelectors","qex","react","setTimeout","usePartialViewImpression","usePolarisAnalyticsContext","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache,j=c("qex")._("1229"),k=new Map(),l=new Set();function a(a,e,f){var g=i(6),h=c("usePolarisViewer")(),m;g[0]!==e?(m=function(a){return d("polarisStorySelectors").getReel(a,e)},g[0]=e,g[1]=m):m=g[1];var n=d("PolarisReactRedux.react").useSelector(m);g[2]===Symbol["for"]("react.memo_cache_sentinel")?(m=function(a){return a.stories.currentReelItemIndex},g[2]=m):m=g[2];var o=d("PolarisReactRedux.react").useSelector(m);m=d("PolarisReactRedux.react").useSelector(d("polarisStorySelectors").getStoriesContent);var p=m.traySession;g[3]===Symbol["for"]("react.memo_cache_sentinel")?(m=function(a){return a.stories.viewerSession},g[3]=m):m=g[3];var q=d("PolarisReactRedux.react").useSelector(m);g[4]!==e?(m=function(a){return a.stories.currentTrayOrder.indexOf(e)},g[4]=e,g[5]=m):m=g[5];var r=d("PolarisReactRedux.react").useSelector(m);m=d("polarisRelationshipSelectors.react").useRelationship((g=a.ownerId)!=null?g:"");var s=m!=null?d("PolarisViewpointActionUtils").getFollowStatus(m):null,t=c("usePolarisAnalyticsContext")(),u=f==null?void 0:f.ad_id;return c("usePartialViewImpression")({onImpressionStart:function(g){var i,m=g.entry;if(u==null||(f==null?void 0:f.tracking_token)==null||(h==null?void 0:h.id)==null){if(a.isSponsored===!0){g=c("err")("Missing critical logging field for InstagramAdReelImpressionFalcoEvent.");d("PolarisMonitorErrors").logError(g)}return}var v=k.get(e),w=Date.now();g=d("PolarisStoriesLoggingUtils").StoriesLoggingSession.getData();var x=d("PolarisContainerModuleUtils").getContainerModule(t),y=d("PolarisViewpointActionUtils").getMPKForStoryMedia(a.id,a.owner),z=f==null?void 0:f.tracking_token,A={a_pk:a.ownerId,ad_id:u,ad_inserted_position:r.toString(),follow_status:s,m_pk:y,m_t:Number(d("PolarisStoriesLoggingUtils").getMediaTypeFromPost(a)).toString(),m_ts:(i=a.postedAt)==null?void 0:i.toString(),pigeon_reserved_keyword_module:x,pk:h==null?void 0:h.id,post_id:a.id,reel_id:e,reel_position:o.toString(),reel_size:n==null?void 0:(i=n.itemIds)==null?void 0:i.length.toString(),reel_type:d("PolarisStoriesLoggingUtils").getTypeForLogging(n==null?void 0:n.type),reel_viewer_position:g.reelPositionInTray.toString(),session_reel_counter:g.reelCounter.toString(),source_of_action:x,tracking_token:z,tray_session_id:p,viewer_session_id:q},B=[JSON.stringify({is_sponsored:!0,m_pk:y,tracking_token:z})];if(l.has(u))return;l.add(u);c("setTimeout")(function(){var a=c("cometGHLContentDisplayCheck")(m.target);v==null?a?(c("InstagramODS").incr("web.ads.story.reel.impression"),c("InstagramAdReelImpressionFalcoEvent").log(function(){return A}),j===!0&&b("cr:6627")!=null&&b("cr:6627").log(function(){return{container_module:x,event:"reel_impression_client",tracking:B}}),k.set(e,w)):c("InstagramODS").incr("web.ads.story.reel.impression.hidden"):w-v>=d("PolarisSponsoredStoryLoggingConstants").SUB_IMPRESSION_GAP&&(a?(c("InstagramODS").incr("web.ads.story.reel.sub_impression"),c("InstagramAdReelSubImpressionFalcoEvent").log(function(){return A}),j===!0&&b("cr:6627")!=null&&b("cr:6627").log(function(){return{container_module:x,event:"reel_sub_impression_client",tracking:B}}),k.set(e,w)):c("InstagramODS").incr("web.ads.story.reel.sub_impression.hidden"));l["delete"](u)},d("PolarisSponsoredStoryLoggingConstants").ADBLOCK_CHECK_DELAY)}})}g["default"]=a}),98);
__d("PolarisStoriesIntegrityGuards.react",["CometPlaceholder.react","JSResourceForInteraction","PolarisReactRedux.react","PolarisStoriesProvider.react","lazyLoadComponent","nullthrows","polarisStorySelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.unstable_useMemoCache,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisStoriesIntegrityGuards.react"));function a(){var a=j(9),b=c("nullthrows")(d("PolarisReactRedux.react").useSelector(d("polarisStorySelectors").getCurrentPost)),e=d("PolarisStoriesProvider.react").useStoriesContext(),f=e.shareClickCount,g=e.updateStoriesContext;a[0]!==b.id?(e={media_id:b.id,module:"reel_feed_timeline"},a[0]=b.id,a[1]=e):e=a[1];e=e;e=e;if(a[2]!==f||a[3]!==b||a[4]!==g||a[5]!==e){var h;h=f>0&&((h=b.sharingFrictionInfo)==null?void 0:h.bloksAppUrl)!=null&&i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(k,{appId:b.sharingFrictionInfo.bloksAppUrl,bridgeOverrides_DEPRECATED:{onOpenShareSheetClick:function(){g({isPlaybackDisabled:!0,isStoryShareSheetActive:!0,shareClickCount:0})},onResumeStoryPlayback:function(){g({shareClickCount:0})}},params:e},f)});a[2]=f;a[3]=b;a[4]=g;a[5]=e;a[6]=h}else h=a[6];a[7]!==h?(f=i.jsx(i.Fragment,{children:h}),a[7]=h,a[8]=f):f=a[8];return f}g["default"]=a}),98);
__d("PolarisOrganicStoryImpression",["InstagramOrganicImpressionFalcoEvent","PolarisLoggerUtils","PolarisNavChain","PolarisStoriesLoggingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set();function a(a,b,e,f,g,i){return function(j){if(h.has(b)===!0)return;if(j.state==="entered"){var k=d("PolarisStoriesLoggingUtils").StoriesLoggingSession.getData();c("InstagramOrganicImpressionFalcoEvent").log(function(){var h;return{m_pk:d("PolarisLoggerUtils").getFormattedMediaID(b,e||""),module_name:k.containermodule||"",nav_chain:(h=c("PolarisNavChain").getInstance())==null?void 0:h.getNavChainForSend(),pigeon_reserved_keyword_module:k.containermodule||"",reel_id:a,reel_viewer_position:i==null?void 0:i.toString(),tray_session_id:f,viewer_session_id:g}})}h.add(b)}}g.makeOrganicStoryImpressionAction=a}),98);
__d("usePolarisStoryImpressionViewpointLogging",["PolarisOrganicStoryImpression","PolarisStoriesLoggingUtils","PolarisViewpointActionUtils","PolarisViewpointReact.react","PolarisVpvdImpressionAction","polarisStorySelectors","react","usePolarisAnalyticsContext","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache;function a(a){var b,e=i(3),f=a.hasLoggedStoryPogImpression,g=a.post,h=a.reel,j=a.reelItemIndex;a=a.setHasLoggedStoryPogImpression;var k=c("usePolarisAnalyticsContext")(),l=c("usePolarisSelector")(d("polarisStorySelectors").getStoriesContent);l=l.traySession;var m;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=function(a){return a.stories.viewerSession},e[0]=m):m=e[0];m=c("usePolarisSelector")(m);var n;e[1]!==h.id?(n=function(a){return a.stories.currentTrayOrder.indexOf(h.id)},e[1]=h.id,e[2]=n):n=e[2];e=c("usePolarisSelector")(n);n=c("usePolarisSelector")(d("polarisStorySelectors").getContainerModule);n=n.containerModule;b=(b=(b=d("PolarisStoriesLoggingUtils").StoriesLoggingSession.getData())==null?void 0:b.containermodule)!=null?b:n;n=d("PolarisViewpointActionUtils").getMPKForReel(h,j);n=d("PolarisVpvdImpressionAction").makeStoriesVpvdImpressionAction(h.id,n,j,l,m,k,b,f,a);k=h.id;a=(f=((b=h.itemIds)!=null?b:[])[j])!=null?f:"";b=k+a;j=[n];k=d("PolarisOrganicStoryImpression").makeOrganicStoryImpressionAction(h.id,g.id,(f=g.owner)==null?void 0:f.id,l,m,e);j.push(k);return d("PolarisViewpointReact.react").useViewpoint({action:j,id:b})}g["default"]=a}),98);
__d("PolarisStoryViewer.react",["PolarisReactRedux.react","PolarisStoriesIntegrityGuards.react","PolarisStoriesProvider.react","cr:4398","deferredLoadComponent","nullthrows","polarisPostSelectors","polarisStorySelectors","react","requireDeferred","usePolarisStoryImpressionViewpointLogging"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.useState,l=e.unstable_useMemoCache,m=c("deferredLoadComponent")(c("requireDeferred")("PolarisStoryModals.react").__setRef("PolarisStoryViewer.react"));function a(a){var e=l(25),f=a.adImpressionRef,g=a.postId,h=a.reelId,n=a.reelItemIndex,o=a.viewerHeight,p=a.viewerWidth;e[0]!==h?(a=function(a){return d("polarisStorySelectors").getReel(a,h)},e[0]=h,e[1]=a):a=e[1];a=c("nullthrows")(d("PolarisReactRedux.react").useSelector(a));var q=k(!1),r=q[0],s=q[1];e[2]!==g?(q=function(a){return d("polarisPostSelectors").getPostById(a,g)},e[2]=g,e[3]=q):q=e[3];q=d("PolarisReactRedux.react").useSelector(q);var t=d("PolarisStoriesProvider.react").useStoriesContext(),u=t.updateStoriesContext,v;e[4]!==o||e[5]!==p||e[6]!==u?(t=function(){o!=null&&p!=null&&u({viewerHeight:o,viewerWidth:p})},v=[u,o,p],e[4]=o,e[5]=p,e[6]=u,e[7]=t,e[8]=v):(t=e[7],v=e[8]);j(t,v);e[9]===Symbol["for"]("react.memo_cache_sentinel")?(t=function(){s(!1)},e[9]=t):t=e[9];e[10]!==h?(v=[h],e[10]=h,e[11]=v):v=e[11];j(t,v);t=c("usePolarisStoryImpressionViewpointLogging")({hasLoggedStoryPogImpression:r,post:q,reel:a,reelItemIndex:n,setHasLoggedStoryPogImpression:s});e[12]!==q.isSponsored||e[13]!==f||e[14]!==t?(v=q.isSponsored===!0&&f!=null?f:t,e[12]=q.isSponsored,e[13]=f,e[14]=t,e[15]=v):v=e[15];e[16]!==v||e[17]!==q||e[18]!==a||e[19]!==n?(r=i.jsx(b("cr:4398"),{innerRef:v,post:q,reel:a,reelItemIndex:n}),e[16]=v,e[17]=q,e[18]=a,e[19]=n,e[20]=r):r=e[20];e[21]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("PolarisStoriesIntegrityGuards.react"),{}),e[21]=f):f=e[21];e[22]===Symbol["for"]("react.memo_cache_sentinel")?(t=i.jsx(m,{}),e[22]=t):t=e[22];e[23]!==r?(v=i.jsxs(i.Fragment,{children:[r,f,t]}),e[23]=r,e[24]=v):v=e[24];return v}g["default"]=a}),98);
__d("usePolarisSponsoredStoryReelImpressionSecondChannelLogger",["InstagramODS","PolarisContainerModuleUtils","PolarisInteractionsLogger","PolarisSponsoredStoryLoggingConstants","PolarisViewpointActionUtils","cometGHLContentDisplayCheck","cr:6627","qex","setTimeout","usePolarisAnalyticsContext","usePolarisViewer","useScrollBasedImpressionTracker"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qex")._("1229"),i=new Map(),j=new Set();function a(a,e){var f=c("usePolarisAnalyticsContext")(),g=c("usePolarisViewer")(),k=a==null?void 0:a.ad_id,l=a==null?void 0:a.tracking_token,m=d("PolarisContainerModuleUtils").getContainerModule(f);return c("useScrollBasedImpressionTracker")(function(a){if(k!=null&&l!=null&&(g==null?void 0:g.id)!=null&&f!=null){if(a.status!=="ENTER")return;var n=i.get(k),o=Date.now(),p=d("PolarisViewpointActionUtils").getMPKForFeedMedia(e);d("PolarisContainerModuleUtils").getContainerModule(f);d("PolarisInteractionsLogger").getMediaTypeFromPost(e).toString();var q=[JSON.stringify({is_sponsored:!0,m_pk:p,trackingToken:l})];if(j.has(k))return;j.add(k);c("setTimeout")(function(){var e=c("cometGHLContentDisplayCheck")(a.target);n==null?e?(c("InstagramODS").incr("web.ads.story.reel.impression.second_channel"),h===!0&&b("cr:6627")!=null&&b("cr:6627").log(function(){return{container_module:m,event:"reel_impression_second_channel_client",tracking:q}}),i.set(k,o)):c("InstagramODS").incr("web.ads.story.reel.impression.second_channel.hidden"):o-n>=d("PolarisSponsoredStoryLoggingConstants").SUB_IMPRESSION_GAP&&(e?(c("InstagramODS").incr("web.ads.story.reel.sub_impression.second_channel"),h===!0&&b("cr:6627")!=null&&b("cr:6627").log(function(){return{container_module:m,event:"reel_sub_impression_second_channel_client",tracking:q}}),i.set(k,o)):c("InstagramODS").incr("web.ads.story.reel.sub_impression.second_channel.hidden"));j["delete"](k)},d("PolarisSponsoredStoryLoggingConstants").ADBLOCK_CHECK_DELAY)}})}g["default"]=a}),98);
__d("PolarisSponsoredStory.react",["PolarisAdsGatingHelpers","PolarisErrorBoundary.react","PolarisReactRedux.react","PolarisSponsoredStoryContext.react","PolarisStoryViewer.react","PolarisTrackingCodeProvider.react","PolarisViewpointActionUtils","polarisAdsSelectors.react","polarisRelationshipSelectors.react","qex","react","useMergeRefs","usePolarisAnalyticsContext","usePolarisPost","usePolarisSponsoredElTracker","usePolarisSponsoredPostProfileClickLogger","usePolarisSponsoredStoryReelImpressionLogger","usePolarisSponsoredStoryReelImpressionSecondChannelLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect,l=b.unstable_useMemoCache;e=c("qex")._("367");var m=e===!0?c("usePolarisSponsoredStoryReelImpressionSecondChannelLogger"):function(a,b){return null};function n(a){var b=l(20),e=a.postId,f=a.reelId,g=a.reelItemIndex,h=a.viewerHeight;a=a.viewerWidth;var n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n=function(a){return a},b[0]=n):n=b[0];n=d("polarisAdsSelectors.react").useStoryAdInfo(e,n);var o;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(a){return a},b[1]=o):o=b[1];o=d("polarisAdsSelectors.react").useStoryAdPosition(f,o);var p;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(a){return a},b[2]=p):p=b[2];var q=d("usePolarisPost").usePost(e,p);p=q.owner;var r=j(d("PolarisSponsoredStoryContext.react").PolarisSponsoredStoryContext),s=r.updateSponsoredStoryContext;r=c("usePolarisSponsoredStoryReelImpressionLogger")(q,f,n);var t=m(n,q);o=c("usePolarisSponsoredElTracker")({mediaType:0,position:(o=o)!=null?o:-2,postId:f,trackingToken:(o=n==null?void 0:n.tracking_token)!=null?o:""});var u=n==null?void 0:n.ad_id,v=n==null?void 0:n.tracking_token,w=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisRelationshipSelectors.react").getRelationship(a.relationships,(a=(a=q.owner)==null?void 0:a.id)!=null?a:"")}),x=c("usePolarisAnalyticsContext")(),y=c("usePolarisSponsoredPostProfileClickLogger")(e,x,u,v,w);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(x=d("PolarisAdsGatingHelpers").enableProfileClickLoggingForIgWebStory(),b[3]=x):x=b[3];var z=x;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(u=d("PolarisAdsGatingHelpers").enablePersistentStoryCTA(),b[4]=u):u=b[4];var A=u;b[5]!==s||b[6]!==y?(v=function(){s({canUserSeePersistentCta:A,onProfileClick:y,shouldLogProfileClicks:z})},w=[y,z,A,s],b[5]=s,b[6]=y,b[7]=v,b[8]=w):(v=b[7],w=b[8]);k(v,w);x=c("useMergeRefs")(r,t,o);v=(u=d("PolarisViewpointActionUtils").getMPKForStoryMedia(e,p))!=null?u:"";r=(w=n==null?void 0:n.tracking_token)!=null?w:"";b[9]!==x||b[10]!==e||b[11]!==f||b[12]!==g||b[13]!==h||b[14]!==a?(t=i.jsx(c("PolarisStoryViewer.react"),{adImpressionRef:x,postId:e,reelId:f,reelItemIndex:g,viewerHeight:h,viewerWidth:a}),b[9]=x,b[10]=e,b[11]=f,b[12]=g,b[13]=h,b[14]=a,b[15]=t):t=b[15];b[16]!==v||b[17]!==r||b[18]!==t?(o=i.jsx(c("PolarisTrackingCodeProvider.react"),{isSponsored:!0,m_pk:v,trackingToken:r,children:t}),b[16]=v,b[17]=r,b[18]=t,b[19]=o):o=b[19];return o}function a(a){var b=l(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a){return null},b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("PolarisErrorBoundary.react"),{errorRenderer:e,children:i.jsx(d("PolarisSponsoredStoryContext.react").PolarisSponsoredStoryContextProvider,{children:i.jsx(n,babelHelpers["extends"]({},a))})}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("usePolarisReelNotAvailable",["IGRouter.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.unstable_useMemoCache;function a(a,b){var c=j(4),e=d("IGRouter.react").useIGHistory(),f=a===!1&&(b===null||(b==null?void 0:(a=b.itemIds)==null?void 0:a.length)===0);c[0]!==f||c[1]!==e?(b=function(){f&&e.push("/")},a=[e,f],c[0]=f,c[1]=e,c[2]=b,c[3]=a):(b=c[2],a=c[3]);i(b,a);return f}g["default"]=a}),98);
__d("usePolarisStorySetup",["PolarisReactRedux.react","PolarisStoriesLoggingUtils","PolarisStoriesProvider.react","nullthrows","polarisGetPostFromGraphMediaInterface","polarisStorySelectors","react","usePolarisEventListener","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect;function a(a,b){var e=d("PolarisStoriesProvider.react").useStoriesContext(),f=e.updateStoriesContext,g=d("PolarisReactRedux.react").useSelector(function(b){return b.stories.currentTrayOrder.indexOf(a.id)}),h=d("PolarisReactRedux.react").useSelector(function(b){return d("polarisStorySelectors").getInitialReelIndex(b,a.id)}),k=c("nullthrows")(d("PolarisReactRedux.react").useSelector(d("polarisStorySelectors").getTrayEntrypoint));j(function(){d("PolarisStoriesLoggingUtils").StoriesLoggingSession.start(k,g),d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startNewReel(g,h)},[]);j(function(){return function(){d("PolarisStoriesLoggingUtils").StoriesLoggingSession.clear()}},[]);var l=c("usePrevious")(a.id);j(function(){l!=null&&a.id!=null&&l!==a.id&&d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startNewReel(g,h)},[l,g,h,a.id]);j(function(){f({postIDThatShouldShowSensitiveContentOverlay:d("polarisGetPostFromGraphMediaInterface").getMediaOverlayMediaCoverInfoFromPost(b)!=null?b.id:null})},[b,f]);j(function(){var a;f({shouldMuteAudio:(a=b.mutingInfo)==null?void 0:a.should_mute_audio,shouldMuteAudioReason:(a=b.mutingInfo)==null?void 0:a.should_mute_audio_reason})},[b,f]);e=i(function(){f({isHidden:document.hidden})},[f]);var m=i(function(){f({hasFocus:document.hasFocus()})},[f]);c("usePolarisEventListener")(document,"visibilitychange",e);c("usePolarisEventListener")(window,"focus",m);c("usePolarisEventListener")(window,"blur",m)}g["default"]=a}),98);
__d("PolarisLoginPageHelpers.react",["PolarisLinkBuilder","PolarisLocationSelectors","PolarisReactRedux.react","nullthrows","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache;function a(a){var b=i(2),c;b[0]!==a?(c=function(b){return j(b,a)},b[0]=a,b[1]=c):c=b[1];return d("PolarisReactRedux.react").useSelector(c)}function j(a,b){var e={contentLink:"",displayName:"",displayPicUrl:"",type:"user"};if(b.initializing===!0)return e;if(b.locationId!=null){var f,g=(f=c("nullthrows"))(b.locationId),h=f(d("PolarisLocationSelectors").getLocation(g)(a));e={contentLink:d("PolarisLinkBuilder").buildLocationLink({id:g}),displayName:f(h.name),displayPicUrl:f(h.profilePictureUrl),type:"location"}}else if(b.tagName!=null){g=c("nullthrows")(b.tagName);f=c("nullthrows")(a.tags[g]);e={contentLink:d("PolarisLinkBuilder").buildTagLink(g),displayName:g,displayPicUrl:c("nullthrows")(f.profilePictureUrl),type:"tag"}}else if(b.highlightReelId!=null){h=c("nullthrows")(b.username);g=d("polarisUserSelectors").getUserByUsername(a,h);e={contentLink:d("PolarisLinkBuilder").buildUserLink(h),displayName:c("nullthrows")(b.highlightReelTitle)+" (@"+h+")",displayPicUrl:c("nullthrows")(g.profilePictureUrl),type:"highlight"}}else{f=c("nullthrows")(b.username);h=d("polarisUserSelectors").getUserByUsername(a,f);e={contentLink:d("PolarisLinkBuilder").buildUserLink(f),displayName:c("nullthrows")(h.username),displayPicUrl:c("nullthrows")(h.profilePictureUrl),type:"user"}}return e}g.useCommonMapStateToProps=a}),98);
__d("PolarisStoryAdDebugger.react",["polarisAdsSelectors.react","react","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(7);a=a.postId;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a){return a},b[0]=e):e=b[0];a=d("polarisAdsSelectors.react").useStoryAdInfo(a,e);b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a){return a.ads.storyAdInjectionData},b[1]=e):e=b[1];e=c("usePolarisSelector")(e);var f;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a){return a.stories.currentTrayOrder.indexOf(a.stories.currentReelId)},b[2]=f):f=b[2];f=c("usePolarisSelector")(f);var g;b[3]!==a||b[4]!==e||b[5]!==f?(g=a?j.jsxs("div",{className:"x1qjc9v5 x1msgd8p x1g7gg9k xenha5r x1eoefnw x124h113 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv x9f619 x1awj2ng x78zum5 xdt5ytf x2lah0s x1c3i2sq xu06os2 xyamay9 x1pi30zi x1l90r2v x1swvt13 x11njtxf",children:[j.jsxs("p",{className:"x1gslohp x11i5rnm x12nagc x1mh8g0r",children:["Ad ID: ",a.ad_id]}),j.jsxs("p",{className:"x1gslohp x11i5rnm x12nagc x1mh8g0r",children:["Entry Point Index: ",e==null?void 0:e.entryPointIndex]}),j.jsxs("p",{className:"x1gslohp x11i5rnm x12nagc x1mh8g0r",children:["Ad Request Index: ",e==null?void 0:e.adRequestIndex]}),j.jsxs("p",{className:"x1gslohp x11i5rnm x12nagc x1mh8g0r",children:["Current Insertion Index: ",f]})]}):null,b[3]=a,b[4]=e,b[5]=f,b[6]=g):g=b[6];return g}g["default"]=a}),98);
__d("PolarisStoryMediaDebugger.react",["cx","PolarisNetworkInfo","PolarisStoryAdDebugger.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function l(a){var b=j(8),c=a.currentSrc,d=a.imageResources;a=a.videoResources;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx("p",{children:"Available Qualities"}),b[0]=e):e=b[0];var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f="_ac4a",b[1]=f):f=b[1];if(b[2]!==d||b[3]!==a||b[4]!==c){var g;g=(g=(g=d)!=null?g:a)==null?void 0:g.map(function(a){var b=a.src===c;return k.jsx("li",{className:b?"_ac4b":"",children:k.jsxs("p",{children:[a.configWidth,"w x ",a.configHeight,"h"]})})});b[2]=d;b[3]=a;b[4]=c;b[5]=g}else g=b[5];b[6]!==g?(d=k.jsxs(k.Fragment,{children:[e,k.jsx("ul",{className:f,children:g})]}),b[6]=g,b[7]=d):d=b[7];return d}function a(a){var b=j(28),e=a.imageRef,f=a.newVideoPlayer,g=a.post;a=a.videoRef;e=e===void 0?null:e;a=a===void 0?null:a;var h="";e!=null&&(h=e.currentSrc);a!=null&&(h=a.currentSrc);var i=e==null?"Video":"Image";i==="Video"&&(f===!0?i="Video (Next gen player)":i="Video (Legacy player)");b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f="_aigk",b[0]=f):f=b[0];var m;b[1]!==g.id?(m=k.jsx(c("PolarisStoryAdDebugger.react"),{postId:g.id}),b[1]=g.id,b[2]=m):m=b[2];var n;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(n="_ac49",b[3]=n):n=b[3];var o;b[4]!==i?(o=k.jsxs("p",{children:["Media type: ",i]}),b[4]=i,b[5]=o):o=b[5];b[6]!==g.id?(i=k.jsxs("p",{children:["Post ID: ",g.id]}),b[6]=g.id,b[7]=i):i=b[7];var p=g.hasAudio===!0?"true":"false",q;b[8]!==p?(q=k.jsxs("p",{children:["Has audio: ",p]}),b[8]=p,b[9]=q):q=b[9];if(b[10]===Symbol["for"]("react.memo_cache_sentinel")){p=k.jsxs("p",{children:["Browser Bandwidth Estimate: ",(p=d("PolarisNetworkInfo").getNavigatorConnection())==null?void 0:p.downlink," Mbps"]});b[10]=p}else p=b[10];var r;b[11]!==e||b[12]!==h||b[13]!==g?(r=e!==null&&k.jsxs(k.Fragment,{children:[k.jsxs("p",{children:["Element Size: ",e==null?void 0:e.width,"w x ",e==null?void 0:e.height,"h"]}),k.jsx(l,{currentSrc:h,imageResources:g.displayResources})]}),b[11]=e,b[12]=h,b[13]=g,b[14]=r):r=b[14];b[15]!==a||b[16]!==h||b[17]!==g?(e=a!==null&&k.jsxs(k.Fragment,{children:[k.jsxs("p",{children:["Element Size: ",a==null?void 0:a.clientWidth,"w x ",a==null?void 0:a.clientHeight,"h"]}),k.jsx(l,{currentSrc:h,videoResources:g.videoResources})]}),b[15]=a,b[16]=h,b[17]=g,b[18]=e):e=b[18];b[19]!==o||b[20]!==i||b[21]!==q||b[22]!==r||b[23]!==e?(a=k.jsxs("div",{className:n,children:[o,i,q,p,r,e]}),b[19]=o,b[20]=i,b[21]=q,b[22]=r,b[23]=e,b[24]=a):a=b[24];b[25]!==m||b[26]!==a?(h=k.jsxs("div",{className:f,children:[m,a]}),b[25]=m,b[26]=a,b[27]=h):h=b[27];return h}g["default"]=a}),98);
__d("PolarisStoryProgressBars.react",["cx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function l(){var a=j(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b="_ac3n",a[0]=b):b=a[0];var c;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(c=k.jsx("div",{className:"_ac3o"}),a[1]=c):c=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsxs("div",{className:b,"data-testid":void 0,children:[c,k.jsx("div",{className:"_ac3p",style:{width:"100%"}})]}),a[2]=b):b=a[2];return b}function m(){var a=j(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b="_ac3n",a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx("div",{className:b,children:k.jsx("div",{className:"_ac3o"})}),a[1]=b):b=a[1];return b}function n(a){var b=j(5);a=a.percentage;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c="_ac3n",b[0]=c):c=b[0];var d;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(d=k.jsx("div",{className:"_ac3o"}),b[1]=d):d=b[1];var e;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e="_ac3p _ac3q",b[2]=e):e=b[2];a=a+"%";b[3]!==a?(c=k.jsxs("div",{className:c,children:[d,k.jsx("div",{className:e,style:{width:a}})]}),b[3]=a,b[4]=c):c=b[4];return c}function a(a){var b=j(10),c=a.count,d=a.currentIndex,e=a.percentage;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a="_ac3r",b[0]=a):a=b[0];if(b[1]!==c||b[2]!==d||b[3]!==e){var f;b[5]!==d||b[6]!==e?(f=function(a){if(a<d)return k.jsx(l,{},a);else if(a>d)return k.jsx(m,{},a);else return k.jsx(n,{percentage:e},a)},b[5]=d,b[6]=e,b[7]=f):f=b[7];f=Array.from(Array(c).keys()).map(f);b[1]=c;b[2]=d;b[3]=e;b[4]=f}else f=b[4];b[8]!==f?(c=k.jsx("div",{className:a,children:f}),b[8]=f,b[9]=c):c=b[9];return c}g["default"]=a}),98);
__d("PolarisStoryVideoContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;var j=c.useContext,k=c.useRef,l=c.unstable_useMemoCache,m={loggerValuesRef:{current:{initialShouldStarted:!0,initialStartedPlaying:!0,lastShouldStartTime:0,lastStartPosition:0,loggingSequenceNumber:1}},ref:{current:null}},n=i.createContext(m);function a(){return j(n)}function b(a){var b=l(6);a=a.children;var c=k(m.ref.current),d=k(m.loggerValuesRef.current),e;b[0]!==d||b[1]!==c?(e={loggerValuesRef:d,ref:c},b[0]=d,b[1]=c,b[2]=e):e=b[2];b[3]!==e||b[4]!==a?(d=i.jsx(n.Provider,{value:e,children:a}),b[3]=e,b[4]=a,b[5]=d):d=b[5];return d}g.StoryVideoContext=n;g.useStoryVideoContext=a;g.StoryVideoContextProvider=b}),98);
__d("PolarisStoriesAppInstallDialog.react",["fbt","IGCoreDialog.react","IGDSButton.react","PolarisConfig","PolarisConfigConstants","PolarisLogger","PolarisOpenInApp","PolarisReactRedux.react","polarisNavigationSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._("__JHASH__eYXq4ehXgyn__JHASH__"),l=h._("__JHASH__ysCwXzHm8aV__JHASH__");h._("__JHASH__ZkUEVz34LaQ__JHASH__");var m=h._("__JHASH__przBOMgnPTR__JHASH__"),n=h._("__JHASH__QxtkzLVtWAv__JHASH__"),o=h._("__JHASH__BrhM5kbNiVq__JHASH__");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),i=0;i<f;i++)g[i]=arguments[i];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=function(a){a.preventDefault(),d("PolarisLogger").logAction("storiesStickerUnsupportedAppsellClick",{medium:"installLink",platform:d("PolarisConfig").getAppPlatform(),source:"storySticker",stickerType:e.props.fallbackType}),d("PolarisOpenInApp").openInApp(e.props.android,e.props.ios,e.props.originalPath)},e.$2=function(){d("PolarisLogger").logAction("storiesStickerUnsupportedAppsellDismiss",{stickerType:e.props.fallbackType}),e.props.onClose()},e.$3=h._("__JHASH__jK2FyqoAhEm__JHASH__",[h._param("app store",j.jsx(c("IGDSButton.react"),{display:"block",label:h._("__JHASH__DRhCeBJULE6__JHASH__"),onClick:e.$1,target:"_blank",variant:"primary_link"})),h._param("play store",j.jsx(c("IGDSButton.react"),{display:"block",label:h._("__JHASH__6ssrLZhPCrg__JHASH__"),onClick:e.$1,target:"_blank",variant:"primary_link"}))]),b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=d("PolarisConfig").getAppPlatform();switch(a){case d("PolarisConfigConstants").appPlatformTypes.ANDROID:case d("PolarisConfigConstants").appPlatformTypes.IOS:return j.jsxs(d("IGCoreDialog.react").IGCoreDialog,{body:l,onModalClose:this.$2,title:k,children:[j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",onClick:this.$1,children:m}),j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:this.$2,children:n})]});default:return j.jsx(d("IGCoreDialog.react").IGCoreDialog,{body:this.$3,onModalClose:this.$2,title:k,children:j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:this.$2,children:o})})}};return b}(j.Component);function a(a){return babelHelpers["extends"]({},d("polarisNavigationSelectors").getDeepLink__DEPRECATED(a))}e=d("PolarisReactRedux.react").connect(a)(b);g["default"]=e}),98);
__d("usePolarisNeedsTapToStart",["usePolarisViewer","useRouteReferrer"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useRouteReferrer")(),d=c("usePolarisViewer")();a=d!=null&&d.id===a;return d!=null&&a===!1&&((b==null?void 0:b.navigationType)==="initial"||(b==null?void 0:b.navigationType)==="reload")}g["default"]=a}),98);
__d("PolarisStoriesComponent.react",["PolarisReactRedux.react","PolarisStoryConstants","cr:2883","cr:3914","cr:4381","cr:4689","err","polarisStorySelectors","qex","react","usePolarisNeedsTapToStart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var e,f=i(6),g=d("PolarisReactRedux.react").useSelector(d("polarisStorySelectors").getCurrentReel);e=c("usePolarisNeedsTapToStart")((e=g==null?void 0:g.userId)!=null?e:null);var h=d("PolarisReactRedux.react").useDispatch(),k;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(k=function(a){return a.stories.viewedLoggedOutHighlights.size},f[0]=k):k=f[0];var l=d("PolarisReactRedux.react").useSelector(k);k=function(){var e=a.entrypoint==="highlight"&&(g==null?void 0:g.isFitGreen)===!0&&l<=d("PolarisStoryConstants").STORY_LOGGED_OUT_HIGHLIGHT_LIMIT&&c("qex")._("239")===!0;if(!a.viewerIsLoggedIn&&e){var f=g==null?void 0:g.itemIds;f!=null&&f.length>0&&h({postId:f[0],type:"STORY_LOGGED_OUT_HIGHLIGHT_IMPRESSION"})}if(b("cr:3914"))return a.viewerIsLoggedIn||e?b("cr:3914"):b("cr:2883");if(b("cr:4689"))return a.viewerIsLoggedIn||e?b("cr:4689"):b("cr:4381")};k=k();if(k==null)throw c("err")("No root story component");var m;f[1]===Symbol["for"]("react.memo_cache_sentinel")?(m={height:"100vh",position:"fixed",width:"100%"},f[1]=m):m=f[1];f[2]!==k||f[3]!==a||f[4]!==e?(m=j.jsx("div",{style:m,children:j.jsx(k,babelHelpers["extends"]({},a,{needsTapToStart:e}))}),f[2]=k,f[3]=a,f[4]=e,f[5]=m):m=f[5];return m}g["default"]=a}),98);
__d("PolarisStoriesMediaRoot.react",["PolarisConfig","PolarisLinkBuilder","PolarisReactRedux.react","PolarisStoriesComponent.react","PolarisStoryActions","nullthrows","polarisStorySelectors","promiseDone","react","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){a=a.props;var b=a.routeParams,e=b.initial_media_id;b=b.username;a=a.routeProps;var f=a.is_media_inactive,g=a.show_qr_modal,h=a.user,l=d("PolarisReactRedux.react").useDispatch();a=k(!1);var m=a[0],n=a[1];a=d("PolarisConfig").isLoggedIn();var o=c("usePolarisSelector")(function(a){return d("polarisStorySelectors").getTrayEntrypoint(a)});o=o==="story_ad_activity";if(!a&&b!=null){var p=d("PolarisLinkBuilder").buildUserStoryLink(b);l(d("PolarisStoryActions").initStoryAuth(p))}p=d("PolarisReactRedux.react").useSelector(d("polarisStorySelectors").getCurrentStoryPosition);var q=o?p==null?void 0:p.reelId:h.id;o=c("usePolarisSelector")(function(a){return d("polarisStorySelectors").getReel(a,c("nullthrows")(q))});var r=!o||o.itemIds==null||p==null;j(function(){!m&&r&&c("promiseDone")(l(d("PolarisStoryActions").initStoryPage({initialMediaId:e,owner:h})).then(function(){n(!0)}))},[r,l,e,m,h]);return i.jsx(c("PolarisStoriesComponent.react"),{entrypoint:"media",initializing:r&&m===!1,isMediaInactive:f,showQRModal:g,username:b,viewerIsLoggedIn:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);